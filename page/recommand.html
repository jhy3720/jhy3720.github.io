<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ë¼ì´ì–´ ê²Œì„</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Noto Sans KR', sans-serif;
        }
        /* ê°„ë‹¨í•œ ì• ë‹ˆë©”ì´ì…˜ íš¨ê³¼ */
        .fade-in {
            animation: fadeIn 0.5s ease-in-out;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: scale(0.95); }
            to { opacity: 1; transform: scale(1); }
        }
        /* ì„ íƒëœ ë²„íŠ¼ ìŠ¤íƒ€ì¼ */
        .topic-btn.selected {
            background-color: #3B82F6; /* blue-600 */
            color: white;
            border-color: #3B82F6;
        }
    </style>
</head>
<body class="bg-gray-100 flex items-center justify-center min-h-screen p-4">

    <div id="app" class="bg-white p-6 sm:p-8 rounded-2xl shadow-lg w-full max-w-lg transition-all duration-500">

        <!-- 1. ì„¤ì • í™”ë©´ -->
        <div id="setup-screen" class="fade-in">
            <div class="text-center mb-6">
                <h1 class="text-3xl font-bold text-gray-800">ë¼ì´ì–´ ê²Œì„ ğŸ¤¥</h1>
                <p class="text-gray-500 mt-2">ë¼ì´ì–´ë¥¼ ì°¾ì•„ë‚´ì„¸ìš”!</p>
            </div>

            <!-- ì¸ì› ì„¤ì • -->
            <div class="grid grid-cols-2 gap-4 mb-4">
                <div>
                    <label for="player-count" class="block text-sm font-medium text-gray-700 mb-2">ì°¸ê°€ ì¸ì›</label>
                    <input type="number" id="player-count" value="4" min="3" max="10" class="w-full bg-gray-50 border border-gray-300 rounded-lg p-3 text-center text-gray-800 focus:ring-2 focus:ring-blue-500">
                </div>
                <div>
                    <label for="wolf-count" class="block text-sm font-medium text-gray-700 mb-2">ë¼ì´ì–´ ìˆ˜</label>
                    <input type="number" id="wolf-count" value="1" min="1" max="5" class="w-full bg-gray-50 border border-gray-300 rounded-lg p-3 text-center text-gray-800 focus:ring-2 focus:ring-blue-500">
                </div>
            </div>

            <!-- ì£¼ì œ ì„ íƒ -->
            <div class="mb-6">
                <label class="block text-sm font-medium text-gray-700 mb-2">ì£¼ì œ ì„ íƒ</label>
                <div id="topic-container" class="grid grid-cols-2 sm:grid-cols-5 gap-2">
                    <!-- ì£¼ì œ ë²„íŠ¼ì€ JSë¡œ ìƒì„± -->
                </div>
            </div>
            
            <button id="start-game-btn" class="w-full bg-blue-500 hover:bg-blue-600 text-white font-bold py-3 px-4 rounded-lg transition duration-300 ease-in-out transform hover:-translate-y-0.5 shadow-md">
                ê²Œì„ ì‹œì‘
            </button>
            <p id="error-message" class="text-red-500 text-sm text-center mt-2 h-4"></p>
        </div>

        <!-- 2. ê²Œì„ ì§„í–‰ í™”ë©´ -->
        <div id="game-screen" class="hidden fade-in">
            <div class="text-center mb-6">
                <h1 class="text-2xl font-bold text-gray-800">ë‹¨ì–´ í™•ì¸</h1>
                <p class="text-gray-500 mt-2">ìì‹ ì˜ ë²ˆí˜¸ë¥¼ ëˆŒëŸ¬ ë‹¨ì–´ë¥¼ í™•ì¸í•˜ì„¸ìš”.</p>
            </div>
            <div id="player-buttons" class="grid grid-cols-3 sm:grid-cols-4 gap-4">
                <!-- í”Œë ˆì´ì–´ ë²„íŠ¼ ìƒì„± -->
            </div>
            <button id="show-result-btn" class="w-full bg-green-500 hover:bg-green-600 text-white font-bold py-3 px-4 rounded-lg transition mt-6 shadow-md" disabled>
                ê²°ê³¼ ë³´ê¸°
            </button>
        </div>

        <!-- 3. ê²°ê³¼ í™”ë©´ -->
        <div id="result-screen" class="hidden fade-in text-center">
             <h1 class="text-2xl font-bold text-gray-800 mb-4">ê²Œì„ ê²°ê³¼</h1>
             <div class="bg-gray-50 p-6 rounded-lg">
                 <p class="text-lg mb-2">ë¼ì´ì–´ëŠ” <span id="wolf-players" class="font-bold text-red-500"></span>ë²ˆ ì´ì—ˆìŠµë‹ˆë‹¤!</p>
                 <div class="space-y-2 text-xl">
                     <p> ì‹œë¯¼ ë‹¨ì–´: <span id="citizen-word" class="font-bold text-blue-600"></span></p>
                     <p> ë¼ì´ì–´ ë‹¨ì–´: <span id="wolf-word" class="font-bold text-red-600"></span></p>
                 </div>
             </div>
             <button id="restart-game-btn" class="w-full bg-blue-500 hover:bg-blue-600 text-white font-bold py-3 px-4 rounded-lg transition mt-6 shadow-md">
                ìƒˆ ê²Œì„
             </button>
        </div>

        <!-- ë‹¨ì–´ í™•ì¸ ëª¨ë‹¬ -->
        <div id="word-modal" class="hidden fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center p-4 z-50">
            <div class="bg-white rounded-2xl p-8 text-center max-w-sm w-full">
                <p class="text-lg mb-2">ë‹¹ì‹ ì˜ ë‹¨ì–´ëŠ”...</p>
                <p id="modal-word" class="text-4xl font-bold my-4"></p>
                <button id="close-modal-btn" class="w-full bg-gray-500 hover:bg-gray-600 text-white font-bold py-3 px-4 rounded-lg transition">
                    í™•ì¸í–ˆìŠµë‹ˆë‹¤
                </button>
            </div>
        </div>

    </div>

    <script>
        // [ìˆ˜ì •ë¨] ë‹¨ì–´ ë°ì´í„°ë¥¼ {citizen, wolf} ìŒ êµ¬ì¡°ì—ì„œ, ì—°ê´€ ë‹¨ì–´ ëª©ë¡ êµ¬ì¡°ë¡œ ë³€ê²½
        const wordsData = {
            'ìŒì‹': ['ğŸœ ì§œì¥ë©´', 'ğŸœ ì§¬ë½•', 'ğŸ¥˜ ê¹€ì¹˜ì°Œê°œ', 'ğŸ¥˜ ëœì¥ì°Œê°œ', 'ğŸ• í”¼ì', 'ğŸ” í–„ë²„ê±°', 'ğŸ¢ ë–¡ë³¶ì´', 'ğŸ¢ ìˆœëŒ€', 'ğŸ¥ ë¼ë©´', 'ğŸœ ìš°ë™', 'ğŸ ì‚¬ê³¼', 'ğŸ ë°°', 'ğŸ¥¤ ì½œë¼', 'ğŸ¥¤ ì‚¬ì´ë‹¤', 'ğŸ— ì¹˜í‚¨', 'ğŸ— ë‹­ê°•ì •', 'ğŸ¥“ ì‚¼ê²¹ì‚´', 'ğŸ¥“ ëª©ì‚´', 'ğŸ£ ì´ˆë°¥', 'ğŸ£ íšŒ', 'ğŸœ ëƒ‰ë©´', 'ğŸœ ë§‰êµ­ìˆ˜', 'â˜• ì•„ë©”ë¦¬ì¹´ë…¸', 'â˜• ë¼ë–¼', 'ğŸ§ íŒ¥ë¹™ìˆ˜', 'ğŸ§ ê³¼ì¼ë¹™ìˆ˜', 'ğŸ¥Ÿ ë§Œë‘', 'ğŸ¥Ÿ ì°ë¹µ', 'ğŸš ë¹„ë¹”ë°¥', 'ğŸš ë³¶ìŒë°¥', 'ğŸ¥© ìŠ¤í…Œì´í¬', 'ğŸ¥© ëˆê¹ŒìŠ¤', 'ğŸ› ì¹´ë ˆ', 'ğŸ› ì§œì¥', 'ğŸ¥ª ìƒŒë“œìœ„ì¹˜', 'ğŸ¥ª í† ìŠ¤íŠ¸', 'ğŸ¦ ì•„ì´ìŠ¤í¬ë¦¼', 'ğŸ¨ ìƒ¤ë² íŠ¸', 'ğŸ² ìƒ¤ë¸Œìƒ¤ë¸Œ', 'ğŸ² ìŠ¤í‚¤ì•¼í‚¤', 'ğŸ™ ê¹€ë°¥', 'ğŸ™ ì£¼ë¨¹ë°¥', 'ğŸ° ì¼€ì´í¬', 'ğŸ¥§ íŒŒì´', 'ğŸ® í‘¸ë”©', 'ğŸ® ì ¤ë¦¬', 'ğŸ© ë„ë„›', 'ğŸ© ê½ˆë°°ê¸°'],
            'ì§ì—…': ['ğŸ‘¨â€âš•ï¸ ì˜ì‚¬', 'ğŸ‘©â€âš•ï¸ ê°„í˜¸ì‚¬', 'ğŸ‘®â€â™€ï¸ ê²½ì°°', 'ğŸ‘¨â€ğŸš’ ì†Œë°©ê´€', 'ğŸ‘©â€ğŸ« ì„ ìƒë‹˜', 'ğŸ‘¨â€ğŸ« êµìˆ˜', 'ğŸ’» ê°œë°œì', 'ğŸ¨ ë””ìì´ë„ˆ', 'ğŸ¤ ê°€ìˆ˜', 'ğŸ¬ ë°°ìš°', 'ğŸ‘¨â€ğŸ³ ìš”ë¦¬ì‚¬', 'ğŸ§‘â€ğŸ³ ì œë¹µì‚¬', 'âš½ ìš´ë™ì„ ìˆ˜', ' ê°ë…', 'âœï¸ ì‘ê°€', 'ğŸ“° ê¸°ì', 'âœˆï¸ íŒŒì¼ëŸ¿', 'ğŸ‘©â€âœˆï¸ ìŠ¹ë¬´ì›', 'ğŸ’‡â€â™€ï¸ ë¯¸ìš©ì‚¬', 'ğŸ’… ë„¤ì¼ë¦¬ìŠ¤íŠ¸', 'âš–ï¸ íŒì‚¬', 'âš–ï¸ ê²€ì‚¬', 'ğŸ  ê±´ì¶•ê°€', 'ğŸ›‹ï¸ ì¸í…Œë¦¬ì–´ ë””ìì´ë„ˆ', 'ğŸ© ë§ˆìˆ ì‚¬', 'ğŸª ì„œì»¤ìŠ¤ ë‹¨ì›', 'ğŸ’Š ì•½ì‚¬', ' veterinÃ¡rio', 'ğŸ™ï¸ ì„±ìš°', 'ğŸ“¢ ì•„ë‚˜ìš´ì„œ', 'ğŸ“¹ ìœ íŠœë²„', 'ğŸ“¹ BJ', 'ğŸ’ƒ ëª¨ë¸', 'ğŸ•º íŒ¨ì…˜ ë””ìì´ë„ˆ', 'ğŸ–ï¸ êµ°ì¸', 'ğŸ’‚ ê²½í˜¸ì›', 'ğŸ¨ í™”ê°€', 'ğŸ—¿ ì¡°ê°ê°€', 'ğŸ›ï¸ ëŒ€í†µë ¹', 'ğŸ›ï¸ êµ­íšŒì˜ì›', 'ğŸ§‘â€ğŸŒ¾ ë†ë¶€', 'æ¼å¸«', 'ğŸ“œ ë³€í˜¸ì‚¬', 'ğŸ“œ ë²•ë¬´ì‚¬', 'â˜• ë°”ë¦¬ìŠ¤íƒ€', 'ğŸ· ì†Œë¯ˆë¦¬ì—', 'ğŸ”­ ì²œë¬¸í•™ì', 'âœ¨ ì ì„±ìˆ ì‚¬'],
            'ì „ìì œí’ˆ': ['ğŸ“± ìŠ¤ë§ˆíŠ¸í°', 'ğŸ“± íƒœë¸”ë¦¿', 'ğŸ’» ë…¸íŠ¸ë¶', 'ğŸ–¥ï¸ ë°ìŠ¤í¬íƒ‘', 'ğŸ“º TV', 'ğŸ–¥ï¸ ëª¨ë‹ˆí„°', 'ğŸ’¨ ì—ì–´ì»¨', 'ğŸ’¨ ì„ í’ê¸°', 'ğŸ§º ì„¸íƒê¸°', 'ğŸ§º ê±´ì¡°ê¸°', 'ğŸ§Š ëƒ‰ì¥ê³ ', 'ğŸ§Š ê¹€ì¹˜ëƒ‰ì¥ê³ ', 'ğŸ“· ì¹´ë©”ë¼', 'ğŸ“¹ ìº ì½”ë”', 'ğŸ§ í—¤ë“œí°', 'ğŸ§ ì´ì–´í°', 'ğŸ–±ï¸ ë§ˆìš°ìŠ¤', 'âŒ¨ï¸ í‚¤ë³´ë“œ', 'ğŸ”Š ìŠ¤í”¼ì»¤', 'ğŸ”Š ì‚¬ìš´ë“œë°”', 'ğŸ”¥ ì „ìë ˆì¸ì§€', 'ğŸ”¥ ì˜¤ë¸', 'ğŸ§¹ ì²­ì†Œê¸°', 'ğŸ¤– ë¡œë´‡ì²­ì†Œê¸°', 'ğŸ–¨ï¸ í”„ë¦°í„°', 'ğŸ“  ìŠ¤ìºë„ˆ', 'ğŸš ë“œë¡ ', 'ğŸš— RCì¹´', 'ğŸš ì „ê¸°ë°¥ì†¥', 'ğŸš ì••ë ¥ë°¥ì†¥', 'ğŸ¥¤ ë¯¹ì„œê¸°', 'ğŸ¥¤ ì°©ì¦™ê¸°', 'ğŸŒ¬ï¸ ê³µê¸°ì²­ì •ê¸°', 'ğŸ’§ ê°€ìŠµê¸°', 'ğŸ“½ï¸ ë¹”í”„ë¡œì í„°', 'ğŸ“º ìŠ¤í¬ë¦°', 'âŒš ìŠ¤ë§ˆíŠ¸ì›Œì¹˜', 'âŒš ìŠ¤ë§ˆíŠ¸ë°´ë“œ', 'ğŸ’ˆ ì „ê¸°ë©´ë„ê¸°', 'ğŸ’ˆ í—¤ì–´ë“œë¼ì´ì–´', 'ğŸ”‹ ë³´ì¡°ë°°í„°ë¦¬', 'ğŸ”Œ ì¶©ì „ê¸°', 'ğŸ›Œ ì „ê¸°ì¥íŒ', 'ğŸ›Œ ì˜¨ìˆ˜ë§¤íŠ¸', 'ğŸ® ê²Œì„ê¸°', 'ğŸ•¶ï¸ VRê¸°ê¸°', 'ğŸš— ë‚´ë¹„ê²Œì´ì…˜', 'ğŸš— ë¸”ë™ë°•ìŠ¤'],
            'ë™ë¬¼': ['ğŸ¶ ê°•ì•„ì§€', 'ğŸ± ê³ ì–‘ì´', 'ğŸ¯ í˜¸ë‘ì´', 'ğŸ¦ ì‚¬ì', 'ğŸ˜ ì½”ë¼ë¦¬', 'ğŸ¦’ ê¸°ë¦°', 'ğŸ° í† ë¼', 'ğŸ¢ ê±°ë¶ì´', 'ğŸ¬ ëŒê³ ë˜', 'ğŸ³ ê³ ë˜', 'ğŸ” ë‹­', 'ğŸ¦† ì˜¤ë¦¬', 'ğŸ‘ ì–‘', 'ğŸ ì—¼ì†Œ', 'ğŸ¼ íŒ¬ë”', 'ğŸ» ê³°', 'ğŸ§ í­ê·„', 'ğŸ»â€â„ï¸ ë¶ê·¹ê³°', 'ğŸ’ ì›ìˆ­ì´', 'ğŸ¦ ì¹¨íŒ¬ì§€', 'ğŸ ë±€', 'ğŸ¦ ë„ë§ˆë±€', 'ğŸ¦… ë…ìˆ˜ë¦¬', 'ğŸ¦… ë§¤', 'ğŸŠ ì•…ì–´', 'ğŸ¦› í•˜ë§ˆ', 'ğŸ¦Œ ì‚¬ìŠ´', 'ğŸ¦Œ ë…¸ë£¨', 'ğŸ¦ˆ ìƒì–´', 'ğŸ¦ˆ ê°€ì˜¤ë¦¬', 'ğŸ¿ï¸ ë‹¤ëŒì¥', 'ğŸ¿ï¸ ì²­ì„¤ëª¨', 'ğŸ¦Š ì—¬ìš°', 'ğŸº ëŠ‘ëŒ€', 'ğŸ¦˜ ìº¥ê±°ë£¨', 'ğŸ¨ ì½”ì•Œë¼', 'ğŸ•·ï¸ ê±°ë¯¸', 'ğŸ¦‚ ì „ê°ˆ', 'ğŸ¦‹ ë‚˜ë¹„', 'ğŸ¦‹ ë‚˜ë°©', 'ğŸ¹ í–„ìŠ¤í„°', 'ğŸ¹ ê¸°ë‹ˆí”¼ê·¸', 'ğŸ¸ ê°œêµ¬ë¦¬', 'ğŸ¸ ë‘êº¼ë¹„', 'ğŸ´ ë§', 'ğŸ¦“ ì–¼ë£©ë§', 'ğŸ« ë‚™íƒ€', 'ğŸ¦™ ë¼ë§ˆ'],
            'ìŠ¤í¬ì¸ ': ['âš½ ì¶•êµ¬', 'âš¾ ì•¼êµ¬', 'ğŸ€ ë†êµ¬', 'ğŸ ë°°êµ¬', 'ğŸŠâ€â™€ï¸ ìˆ˜ì˜', 'ğŸƒâ€â™€ï¸ ë‹¬ë¦¬ê¸°', 'ğŸ¾ í…Œë‹ˆìŠ¤', 'ğŸ¸ ë°°ë“œë¯¼í„´', 'ğŸ¿ ìŠ¤í‚¤', 'ğŸ‚ ìŠ¤ë…¸ë³´ë“œ', 'ğŸ¹ ì–‘ê¶', 'ğŸ”« ì‚¬ê²©', 'ğŸ¥‹ íƒœê¶Œë„', 'ğŸ¥‹ ìœ ë„', 'ğŸ¥Š ë³µì‹±', 'ğŸ¤¼ ë ˆìŠ¬ë§', 'â›³ ê³¨í”„', 'ğŸ’ í•˜í‚¤', 'ğŸ³ ë³¼ë§', 'ğŸ± ë‹¹êµ¬', 'ğŸ„ ì„œí•‘', 'ğŸ›¶ ì¹´ëˆ„', 'ğŸš´ ì‚¬ì´í´', 'ğŸƒ ë§ˆë¼í†¤', 'ğŸ¤¸â€â™€ï¸ ì²´ì¡°', 'â›¸ï¸ í”¼ê²¨ìŠ¤ì¼€ì´íŒ…', 'ğŸ¤º íœì‹±', 'ğŸ¤º ê²€ë„', 'ğŸ§— í´ë¼ì´ë°', 'ğŸ§— ë“±ì‚°', 'ğŸ“ íƒêµ¬', 'ğŸ¸ ìŠ¤ì¿¼ì‹œ', 'ğŸ‹ï¸ ì—­ë„', 'ğŸ¤¼ ì”¨ë¦„', 'ğŸ¥Œ ì»¬ë§', 'ğŸ’ ì•„ì´ìŠ¤í•˜í‚¤', 'ğŸ‰ ëŸ­ë¹„', 'ğŸˆ ë¯¸ì‹ì¶•êµ¬', 'ğŸï¸ F1', 'ğŸï¸ ë‚˜ìŠ¤ì¹´', 'ğŸ‡ ìŠ¹ë§ˆ', 'ğŸ‡ í´ë¡œ', 'ğŸ¥… í•¸ë“œë³¼', 'ğŸ¥… ì¡±êµ¬', 'â›¸ï¸ ìŠ¤ì¼€ì´íŠ¸', 'â›¸ï¸ ì¸ë¼ì¸', 'ğŸŒŠ ë‹¤ì´ë¹™', 'ğŸ‘¯â€â™€ï¸ ì‹±í¬ë¡œë‚˜ì´ì¦ˆ'],
            'ì¥ì†Œ': ['ğŸ« í•™êµ', 'ğŸ« í•™ì›', 'ğŸï¸ ë°”ë‹¤', 'ğŸï¸ ì‚°', 'ğŸ¬ ë°±í™”ì ', 'ğŸ¬ ì‹œì¥', 'ğŸ¬ ì˜í™”ê´€', 'ğŸ­ ê³µì—°ì¥', 'ğŸ“š ë„ì„œê´€', 'ğŸ“š ì„œì ', 'ğŸ¥ ë³‘ì›', 'ğŸ’Š ì•½êµ­', 'âœˆï¸ ê³µí•­', 'ğŸš‰ ê¸°ì°¨ì—­', 'â˜• ì¹´í˜', 'ğŸ¥ ë¹µì§‘', 'ğŸš“ ê²½ì°°ì„œ', 'ğŸš’ ì†Œë°©ì„œ', 'ğŸ›ï¸ ë°•ë¬¼ê´€', 'ğŸ¨ ë¯¸ìˆ ê´€', 'ğŸ¢ ë†€ì´ê³µì›', 'ğŸŒŠ ì›Œí„°íŒŒí¬', 'ğŸ’ª í—¬ìŠ¤ì¥', 'ğŸŠ ìˆ˜ì˜ì¥', 'ğŸª í¸ì˜ì ', 'ğŸ›’ ìŠˆí¼ë§ˆì¼“', 'ğŸ¦ ì€í–‰', 'ğŸ£ ìš°ì²´êµ­', 'ğŸ“¡ ë°©ì†¡êµ­', 'ğŸ“° ì‹ ë¬¸ì‚¬', 'â›½ ì£¼ìœ ì†Œ', 'âš¡ ì¶©ì „ì†Œ', 'ğŸ’‡ ë¯¸ìš©ì‹¤', 'ğŸ’ˆ ì´ë°œì†Œ', 'ğŸ¨ í˜¸í…”', 'ğŸ© ëª¨í…”', 'ğŸ¢ ì•„íŒŒíŠ¸', 'ğŸ¡ ì£¼íƒ', 'ğŸ´ ì‹ë‹¹', 'ğŸ½ï¸ ë ˆìŠ¤í† ë‘', 'ğŸš‡ ì§€í•˜ì² ', 'ğŸšŒ ë²„ìŠ¤', 'ğŸŒ³ ê³µì›', 'ğŸŸï¸ ìš´ë™ì¥', 'â›ª êµíšŒ', 'ğŸ• ì„±ë‹¹', 'â›©ï¸ ì ˆ', 'â›©ï¸ ì‹ ì‚¬'],
            'ë¬¼ê±´': ['ğŸª‘ ì±…ìƒ', 'ğŸª‘ ì˜ì', 'âœï¸ ì—°í•„', 'âœ’ï¸ ë³¼íœ', 'ğŸ‘“ ì•ˆê²½', 'ğŸ•¶ï¸ ì„ ê¸€ë¼ìŠ¤', 'â° ì‹œê³„', 'ğŸ“… ë‹¬ë ¥', 'ğŸ‘œ ê°€ë°©', 'ğŸ‘› ì§€ê°‘', 'â˜‚ï¸ ìš°ì‚°', 'â›±ï¸ ì–‘ì‚°', 'ğŸ¥¤ ì»µ', 'ğŸ¥¤ í…€ë¸”ëŸ¬', 'ğŸ¥„ ìˆŸê°€ë½', 'ğŸ¥¢ ì “ê°€ë½', 'ğŸ‘Ÿ ì‹ ë°œ', 'ğŸ§¦ ì–‘ë§', 'ğŸ§¢ ëª¨ì', 'ğŸ§¤ ì¥ê°‘', 'ğŸ’ ë°˜ì§€', 'ğŸ“¿ ëª©ê±¸ì´', 'ğŸ§¼ ë¹„ëˆ„', 'ğŸ§´ ìƒ´í‘¸', 'ğŸª¥ ì¹˜ì•½', 'ğŸª¥ ì¹«ì†”', 'ğŸ› ìˆ˜ê±´', 'ğŸ§» íœ´ì§€', 'ğŸ›‹ï¸ ì¹¨ëŒ€', 'ğŸ›‹ï¸ ì†ŒíŒŒ', 'ğŸª ë¹—', 'ğŸª ê±°ìš¸', 'ğŸ—‘ï¸ íœ´ì§€í†µ', 'â™»ï¸ ë¶„ë¦¬ìˆ˜ê±°í•¨', 'ğŸ”‘ ì—´ì‡ ', 'ğŸ”’ ìë¬¼ì‡ ', 'âœ‚ï¸ ê°€ìœ„', 'ğŸ”ª ì¹¼', 'ğŸ³ ëƒ„ë¹„', 'ğŸ³ í”„ë¼ì´íŒ¬', 'ğŸ“º ë¦¬ëª¨ì»¨', 'ğŸ”‘ ìŠ¤ë§ˆíŠ¸í‚¤', 'ğŸ˜· ë§ˆìŠ¤í¬', 'ğŸ§´ ì†ì†Œë…ì œ', 'ğŸ—ºï¸ êµ­ê¸°', 'ğŸ—ºï¸ ì§€ë„', 'ğŸ’° ë™ì „', 'ğŸ’µ ì§€í'],
            'LOL ì±”í”¼ì–¸': ['âš”ï¸ ê°€ë Œ', 'âš”ï¸ ë‹¤ë¦¬ìš°ìŠ¤', 'âœ¨ ëŸ­ìŠ¤', 'âœ¨ ëª¨ë¥´ê°€ë‚˜', 'ğŸŒªï¸ ì•¼ìŠ¤ì˜¤', 'ğŸŒªï¸ ìš”ë„¤', 'ğŸ¹ ì• ì‰¬', 'ğŸ¹ ë°”ë£¨ìŠ¤', 'ğŸ›¡ï¸ ë ˆì˜¤ë‚˜', 'âš“ ë…¸í‹¸ëŸ¬ìŠ¤', 'ğŸ”« ì¼€ì´í‹€ë¦°', 'ğŸ”« ì§„', 'ğŸ’¥ ì´ì¦ˆë¦¬ì–¼', 'ğŸ’¥ ì¹´ì´ì‚¬', 'â›“ï¸ ì“°ë ˆì‰¬', 'ğŸ¤– ë¸”ë¦¬ì¸ í¬ë­í¬', 'ğŸ”ª ì œë“œ', 'ğŸ”ª íƒˆë¡ ', 'ğŸ’– ì•„ë¦¬', 'ğŸ’– ë¥´ë¸”ë‘', 'ğŸ¤º ë¦¬ë¸', 'ğŸ¤º í”¼ì˜¤ë¼', 'ğŸ—¿ ë§íŒŒì´íŠ¸', 'ğŸ ì˜¤ë¥¸', 'ğŸ—¡ï¸ ë§ˆìŠ¤í„° ì´', 'ğŸ—¡ï¸ íŠ¸ë¦°ë‹¤ë¯¸ì–´', 'ğŸš€ ì§•í¬ìŠ¤', 'ğŸš€ íŠ¸ë¦¬ìŠ¤íƒ€ë‚˜', 'ğŸ¦‡ ë² ì¸', 'ğŸ€ íŠ¸ìœ„ì¹˜', 'ğŸ‘Š ë¦¬ ì‹ ', 'ğŸ‘Š ì‹  ì§œì˜¤', 'ğŸ”¥ ì• ë‹ˆ', 'ğŸ”¥ ë¸Œëœë“œ', 'ğŸŒŸ ì†Œë¼ì¹´', 'ğŸµ ì†Œë‚˜', 'ğŸ„ ë£°ë£¨', 'ğŸ± ìœ ë¯¸', 'ğŸ”« ë¯¸ìŠ¤ í¬ì¸ˆ', 'ğŸ”« ë£¨ì‹œì•ˆ', 'ğŸ”® ë² ì´ê°€', 'ğŸ”® ì‹ ë“œë¼', 'ğŸŒªï¸ ì¹´íƒ€ë¦¬ë‚˜', 'ğŸŒªï¸ ì•„ì¹¼ë¦¬', 'ğŸ”ª ì´ë ë¦¬ì•„', 'ğŸ”ª ì¹´ë°€', 'ğŸ„ í‹°ëª¨', 'ğŸ¾ ë‚˜ë¥´', 'ğŸŠ ë‚˜ì„œìŠ¤', 'ğŸŠ ë ˆë„¥í†¤', 'ğŸ» ë³¼ë¦¬ë² ì–´', 'ğŸ» ìš°ë””ë¥´', 'ğŸ¥Š ë°”ì´', 'ğŸ¥Š ì„¸íŠ¸', 'âš“ íŒŒì´í¬', 'ğŸ‘» ì„¸ë‚˜', 'ğŸŒ± ìì´ë¼', 'ğŸ¤– í•˜ì´ë¨¸ë”©ê±°', 'ğŸŒŒ ì¹´ì‚¬ë”˜', 'ğŸŒŒ ë§ìí•˜', 'ğŸ©¸ ë¸”ë¼ë””ë¯¸ë¥´', 'ğŸ©¸ ìŠ¤ì›¨ì¸', 'âŒ› ì—ì½”', 'ğŸŒ™ ë‹¤ì´ì• ë‚˜', 'ğŸ¦ ë ê°€', 'ğŸ¦— ì¹´ì§ìŠ¤', 'ğŸ˜ˆ ì¼€ì¸', 'ğŸ˜ˆ ì•„íŠ¸ë¡ìŠ¤', 'ğŸ›¡ï¸ ì‰”', 'ğŸ›¡ï¸ í¬ì‚°í…Œ', 'ğŸº ê·¸ë ˆì´ë¸Œì¦ˆ', 'ğŸº í‚¨ë“œë ˆë“œ', 'ğŸ’£ ì˜¤ë¦¬ì•„ë‚˜', 'ğŸ’£ ì§ìŠ¤', 'ğŸŒŠ ì”ë‚˜', 'ğŸŒŠ ë‚˜ë¯¸', 'ğŸƒ íŠ¸ìœ„ìŠ¤í‹°ë“œ í˜ì´íŠ¸', 'ğŸŒ€ ë¼ì´ì¦ˆ', 'ğŸ‘» ë…¹í„´', 'ğŸ‘» í”¼ë“¤ìŠ¤í‹±', 'ğŸ¤¡ ìƒ¤ì½”', 'ğŸ˜ˆ ì´ë¸”ë¦°', 'ğŸ”¨ ë½€ì‚', 'ğŸ”¨ ìë¥´ë°˜ 4ì„¸', 'ğŸ™ ëª¨ë°ì¹´ì´ì €', 'ğŸ™ ì¼ë¼ì˜¤ì´', 'ğŸ´â€â˜ ï¸ ê°±í”Œë­í¬', 'ğŸ´â€â˜ ï¸ í´ë ˆë“œ', 'ğŸ¦ ì„¸ë¼í•€', 'ğŸ¦ ë‹ˆì½”', 'ğŸŒ™ ìì•¼', 'ğŸŒ™ ì•„í ë¦¬ì˜¤ìŠ¤', 'âš¡ ì œë¦¬', 'âš¡ ì‹œë¹„ë¥´', 'ğŸ‘‘ ë²¨ë² ìŠ¤', 'ğŸ‘‘ ë¹„ì—ê³ ', 'ğŸ˜­ ìí¬', 'ğŸ˜­ ì•„ë¬´ë¬´', 'ğŸ— ê·¸ë¼ê°€ìŠ¤', 'ğŸ— ì„¸ì£¼ì•„ë‹ˆ'],
            'LOL ì•„ì´í…œ': ['âš”ï¸ ë¬´í•œì˜ ëŒ€ê²€', 'âš”ï¸ ë‚˜ë³´ë¦¬ ì‹ ì†ê²€', 'ğŸ© ë¼ë°”ëˆì˜ ì£½ìŒëª¨ì', 'ğŸ© ê³µí—ˆì˜ ì§€íŒ¡ì´', 'â¤ï¸ íƒœì–‘ë¶ˆê½ƒ ë°©íŒ¨', 'â¤ï¸ ê°•ì² ì‹¬ì¥', 'ğŸ›¡ï¸ ê°•ì² ì˜ ì†”ë¼ë¦¬ íœë˜íŠ¸', 'ğŸ›¡ï¸ ì €ë…ê°‘ì£¼', 'ğŸ­ ë¦¬ì•ˆë“œë¦¬ì˜ ê³ ë‡Œ', 'ğŸ­ ë£¨ë´ì˜ ë™ë°˜ì', 'ğŸ—¡ï¸ ëª°ë½í•œ ì™•ì˜ ê²€', 'ğŸ—¡ï¸ í¬ë¼ì¼„ í•™ì‚´ì', 'â³ ì¡´ì•¼ì˜ ëª¨ë˜ì‹œê³„', 'â³ ë°´ì‹œì˜ ì¥ë§‰', 'ğŸ‘¼ ìˆ˜í˜¸ ì²œì‚¬', 'ğŸ‘¼ ìŠ¤í…Œë½ì˜ ë„ì „', 'ğŸ›¡ï¸ ê°€ì‹œ ê°‘ì˜·', 'ğŸ›¡ï¸ ë€ë‘ì¸ì˜ ì˜ˆì–¸', 'ğŸŒ¿ ëŒ€ìì—°ì˜ í˜', 'ğŸŒ¿ ì •ë ¹ì˜ í˜•ìƒ', 'ğŸ‘» ìš”ìš°ë¬´ì˜ ìœ ë ¹ê²€', 'ğŸ‘» ë“œë½ì‚¬ë¥´ì˜ í™©í˜¼ê²€', 'â„ï¸ ì¹ í‘ì˜ ì–‘ë‚  ë„ë¼', 'â„ï¸ ì„¸ë¦´ë‹¤ì˜ ì›í•œ', 'ğŸ’š ì›Œëª¨ê·¸ì˜ ê°‘ì˜·', 'ğŸ’š êµ³ê±´í•œ ì‹¬ì¥', 'âœ¨ êµ¬ì›', 'âœ¨ ë¯¸ì¹´ì—˜ì˜ ì¶•ë³µ', 'ğŸ”¥ í­í’ ì‡„ë„', 'ğŸ”¥ ê·¸ë¦¼ìë¶ˆê½ƒ', 'ğŸ ë¶ˆê²½í•œ íˆë“œë¼', 'ğŸ êµ¶ì£¼ë¦° íˆë“œë¼', 'ğŸ©¸ í”¼ë°”ë¼ê¸°', 'ğŸ©¸ ë¶ˆë©¸ì˜ ì² ê°‘ê¶', 'ğŸ’€ ë„ë¯¸ë‹‰ ê²½ì˜ ì¸ì‚¬', 'ğŸ’€ í•„ë©¸ìì˜ ìš´ëª…', 'ğŸ’« ìš°ì£¼ì˜ ì¶”ì§„ë ¥', 'ğŸ’« ë¦¬ì¹˜ë² ì¸', 'ğŸ§ª ëª¨ë ë¡œë…¸ë¯¸ì½˜', 'ğŸ§ª í™”ê³µ í‘í¬ ì‚¬ìŠ¬ê²€', 'ğŸ“œ ëŒ€ì²œì‚¬ì˜ ì§€íŒ¡ì´', 'ğŸ“œ ì˜ê²ì˜ ì§€íŒ¡ì´', 'ğŸ§Š ì–¼ì–´ë¶™ì€ ì‹¬ì¥', 'ğŸ§Š ì–¼ì–´ë¶™ì€ ê±´í‹€ë¦¿', 'ğŸ¤ ê¸°ì‚¬ì˜ ë§¹ì„¸', 'ğŸ¤ ì§€í¬ì˜ ìœµí•©', 'ğŸ”® ë¼ì¼ë¼ì´ì˜ ìˆ˜ì •í™€', 'ğŸ”® ì•…ì˜', 'ğŸ”š ë§ˆë²•ì‚¬ì˜ ìµœí›„', 'ğŸ”š ì¢…ë§']
        };

        const topics = Object.keys(wordsData);
        topics.push('Random'); // Random ì£¼ì œ ì¶”ê°€

        // DOM Elements
        const setupScreen = document.getElementById('setup-screen');
        const gameScreen = document.getElementById('game-screen');
        const resultScreen = document.getElementById('result-screen');
        const playerCountInput = document.getElementById('player-count');
        const wolfCountInput = document.getElementById('wolf-count');
        const topicContainer = document.getElementById('topic-container');
        const startGameBtn = document.getElementById('start-game-btn');
        const errorMessage = document.getElementById('error-message');
        const playerButtons = document.getElementById('player-buttons');
        const showResultBtn = document.getElementById('show-result-btn');
        const wolfPlayersSpan = document.getElementById('wolf-players');
        const citizenWordSpan = document.getElementById('citizen-word');
        const wolfWordSpan = document.getElementById('wolf-word');
        const restartGameBtn = document.getElementById('restart-game-btn');
        const wordModal = document.getElementById('word-modal');
        const modalWord = document.getElementById('modal-word');
        const closeModalBtn = document.getElementById('close-modal-btn');
        
        let selectedTopic = '';
        let roles = [];
        let wordPair = {};
        let checkedPlayers = 0;
        let playerCount = 0;

        function initialize() {
            // ì£¼ì œ ë²„íŠ¼ ìƒì„±
            topics.forEach(topic => {
                const button = document.createElement('button');
                button.textContent = topic;
                button.className = 'topic-btn border border-gray-300 rounded-lg py-2 px-1 text-sm sm:text-base text-gray-700 hover:bg-gray-100 transition';
                button.dataset.topic = topic;
                topicContainer.appendChild(button);
            });
            
            // ì£¼ì œ ë²„íŠ¼ í´ë¦­ ì´ë²¤íŠ¸
            topicContainer.addEventListener('click', (e) => {
                if (e.target.classList.contains('topic-btn')) {
                    document.querySelectorAll('.topic-btn').forEach(btn => btn.classList.remove('selected'));
                    e.target.classList.add('selected');
                    selectedTopic = e.target.dataset.topic;
                }
            });

            startGameBtn.addEventListener('click', startGame);
            showResultBtn.addEventListener('click', showResult);
            restartGameBtn.addEventListener('click', restartGame);
            closeModalBtn.addEventListener('click', () => wordModal.classList.add('hidden'));
        }
        
        function validateSettings() {
            const players = parseInt(playerCountInput.value);
            const wolves = parseInt(wolfCountInput.value);
            
            if (!selectedTopic) {
                errorMessage.textContent = 'ì£¼ì œë¥¼ ì„ íƒí•´ì£¼ì„¸ìš”.';
                return false;
            }
            if (wolves >= players) {
                errorMessage.textContent = 'ë¼ì´ì–´ ìˆ˜ëŠ” ì°¸ê°€ ì¸ì›ë³´ë‹¤ ì ì–´ì•¼ í•©ë‹ˆë‹¤.';
                return false;
            }
            errorMessage.textContent = '';
            return true;
        }

        function startGame() {
            if (!validateSettings()) return;

            playerCount = parseInt(playerCountInput.value);
            const wolfCount = parseInt(wolfCountInput.value);
            
            // [ìˆ˜ì •ë¨] ë‹¨ì–´ ì„ íƒ ë¡œì§ ë³€ê²½
            let finalTopic = selectedTopic;
            if (finalTopic === 'Random') {
                const realTopics = topics.slice(0, -1); // 'Random' ì œì™¸
                finalTopic = realTopics[Math.floor(Math.random() * realTopics.length)];
            }
            const words = wordsData[finalTopic];
            // ì›ë³¸ ë°°ì—´ì„ ë³µì‚¬í•˜ì—¬ ì‚¬ìš© (spliceë¡œ ì›ë³¸ì´ ë³€ê²½ë˜ëŠ” ê²ƒì„ ë°©ì§€)
            const availableWords = [...words];

            // 1. ì‹œë¯¼ ë‹¨ì–´ë¥¼ ë¬´ì‘ìœ„ë¡œ ì„ íƒí•˜ê³ , ëª©ë¡ì—ì„œ ì œê±°
            const citizenIndex = Math.floor(Math.random() * availableWords.length);
            const citizenWord = availableWords.splice(citizenIndex, 1)[0];

            // 2. ë‚¨ì€ ë‹¨ì–´ ëª©ë¡ì—ì„œ ë¼ì´ì–´ ë‹¨ì–´ë¥¼ ë¬´ì‘ìœ„ë¡œ ì„ íƒ
            const wolfIndex = Math.floor(Math.random() * availableWords.length);
            const wolfWord = availableWords[wolfIndex];
            
            wordPair = { citizen: citizenWord, wolf: wolfWord };


            // ì—­í•  ë¶„ë°°
            roles = Array(playerCount).fill('citizen');
            let wolvesAssigned = 0;
            while(wolvesAssigned < wolfCount) {
                const randomIndex = Math.floor(Math.random() * playerCount);
                if (roles[randomIndex] === 'citizen') {
                    roles[randomIndex] = 'wolf';
                    wolvesAssigned++;
                }
            }

            // ê²Œì„ í™”ë©´ ì„¤ì •
            setupScreen.classList.add('hidden');
            gameScreen.classList.remove('hidden');
            resultScreen.classList.add('hidden');
            
            checkedPlayers = 0;
            showResultBtn.disabled = true;

            playerButtons.innerHTML = '';
            for (let i = 0; i < playerCount; i++) {
                const button = document.createElement('button');
                button.textContent = `${i + 1}ë²ˆ`;
                button.dataset.index = i;
                button.className = 'player-btn bg-gray-200 hover:bg-gray-300 text-gray-800 font-bold py-6 rounded-lg transition';
                button.addEventListener('click', showWordModal);
                playerButtons.appendChild(button);
            }
        }

        function showWordModal(e) {
            const playerIndex = parseInt(e.target.dataset.index);
            const role = roles[playerIndex];
            const word = role === 'wolf' ? wordPair.wolf : wordPair.citizen;
            
            // [ìˆ˜ì •ë¨] ì´ëª¨ì§€ê°€ ë‹¨ì–´ì— í¬í•¨ë˜ì–´ ìˆìœ¼ë¯€ë¡œ ë°”ë¡œ í‘œì‹œ
            modalWord.textContent = word;
            wordModal.classList.remove('hidden');

            e.target.disabled = true;
            e.target.classList.remove('bg-gray-200', 'hover:bg-gray-300');
            e.target.classList.add('bg-indigo-500', 'text-white');
            e.target.textContent = 'í™•ì¸ ì™„ë£Œ';

            checkedPlayers++;
            if (checkedPlayers === playerCount) {
                showResultBtn.disabled = false;
            }
        }

        function showResult() {
            const wolfIndices = roles.map((role, index) => role === 'wolf' ? index + 1 : null).filter(Boolean);
            wolfPlayersSpan.textContent = wolfIndices.join(', ');

            // [ìˆ˜ì •ë¨] ì´ëª¨ì§€ê°€ ë‹¨ì–´ì— í¬í•¨ë˜ì–´ ìˆìœ¼ë¯€ë¡œ ë°”ë¡œ í‘œì‹œ
            citizenWordSpan.textContent = wordPair.citizen;
            wolfWordSpan.textContent = wordPair.wolf;
            
            gameScreen.classList.add('hidden');
            resultScreen.classList.remove('hidden');
        }

        function restartGame() {
            resultScreen.classList.add('hidden');
            setupScreen.classList.remove('hidden');
            
            selectedTopic = '';
            document.querySelectorAll('.topic-btn').forEach(btn => btn.classList.remove('selected'));
            errorMessage.textContent = '';
        }

        initialize();
    </script>
</body>
</html>
