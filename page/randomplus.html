<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ë¼ì´ì–´ ê²Œì„</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Noto Sans KR', sans-serif;
        }
        /* ê°„ë‹¨í•œ ì• ë‹ˆë©”ì´ì…˜ íš¨ê³¼ */
        .fade-in {
            animation: fadeIn 0.5s ease-in-out;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: scale(0.95); }
            to { opacity: 1; transform: scale(1); }
        }
        /* ì„ íƒëœ ë²„íŠ¼ ìŠ¤íƒ€ì¼ */
        .topic-btn.selected {
            background-color: #3B82F6; /* blue-600 */
            color: white;
            border-color: #3B82F6;
        }
    </style>
</head>
<body class="bg-gray-100 flex items-center justify-center min-h-screen p-4">

    <div id="app" class="bg-white p-6 sm:p-8 rounded-2xl shadow-lg w-full max-w-lg transition-all duration-500">

        <!-- 1. ì„¤ì • í™”ë©´ -->
        <div id="setup-screen" class="fade-in">
            <div class="text-center mb-6">
                <h1 class="text-3xl font-bold text-gray-800">ë¼ì´ì–´ ê²Œì„ ğŸ¤¥</h1>
                <p class="text-gray-500 mt-2">ë¼ì´ì–´ë¥¼ ì°¾ì•„ë‚´ì„¸ìš”!</p>
            </div>

            <!-- ì¸ì› ì„¤ì • -->
            <div class="grid grid-cols-2 gap-4 mb-4">
                <div>
                    <label for="player-count" class="block text-sm font-medium text-gray-700 mb-2">ì°¸ê°€ ì¸ì›</label>
                    <input type="number" id="player-count" value="4" min="3" max="10" class="w-full bg-gray-50 border border-gray-300 rounded-lg p-3 text-center text-gray-800 focus:ring-2 focus:ring-blue-500">
                </div>
                <div>
                    <label for="wolf-count" class="block text-sm font-medium text-gray-700 mb-2">ë¼ì´ì–´ ìˆ˜</label>
                    <input type="number" id="wolf-count" value="1" min="1" max="5" class="w-full bg-gray-50 border border-gray-300 rounded-lg p-3 text-center text-gray-800 focus:ring-2 focus:ring-blue-500">
                </div>
            </div>

            <!-- ì£¼ì œ ì„ íƒ -->
            <div class="mb-6">
                <label class="block text-sm font-medium text-gray-700 mb-2">ì£¼ì œ ì„ íƒ</label>
                <div id="topic-container" class="grid grid-cols-2 sm:grid-cols-5 gap-2">
                    <!-- ì£¼ì œ ë²„íŠ¼ì€ JSë¡œ ìƒì„± -->
                </div>
            </div>
            
            <button id="start-game-btn" class="w-full bg-blue-500 hover:bg-blue-600 text-white font-bold py-3 px-4 rounded-lg transition duration-300 ease-in-out transform hover:-translate-y-0.5 shadow-md">
                ê²Œì„ ì‹œì‘
            </button>
            <p id="error-message" class="text-red-500 text-sm text-center mt-2 h-4"></p>
        </div>

        <!-- 2. ê²Œì„ ì§„í–‰ í™”ë©´ -->
        <div id="game-screen" class="hidden fade-in">
            <div class="text-center mb-6">
                <h1 class="text-2xl font-bold text-gray-800">ë‹¨ì–´ í™•ì¸</h1>
                <p class="text-gray-500 mt-2">ìì‹ ì˜ ë²ˆí˜¸ë¥¼ ëˆŒëŸ¬ ë‹¨ì–´ë¥¼ í™•ì¸í•˜ì„¸ìš”.</p>
            </div>
            <div id="player-buttons" class="grid grid-cols-3 sm:grid-cols-4 gap-4">
                <!-- í”Œë ˆì´ì–´ ë²„íŠ¼ ìƒì„± -->
            </div>
            <button id="show-result-btn" class="w-full bg-green-500 hover:bg-green-600 text-white font-bold py-3 px-4 rounded-lg transition mt-6 shadow-md" disabled>
                ê²°ê³¼ ë³´ê¸°
            </button>
        </div>

        <!-- 3. ê²°ê³¼ í™”ë©´ -->
        <div id="result-screen" class="hidden fade-in text-center">
             <h1 class="text-2xl font-bold text-gray-800 mb-4">ê²Œì„ ê²°ê³¼</h1>
             <div class="bg-gray-50 p-6 rounded-lg">
                <p class="text-lg mb-2">ë¼ì´ì–´ëŠ” <span id="wolf-players" class="font-bold text-red-500"></span>ë²ˆ ì´ì—ˆìŠµë‹ˆë‹¤!</p>
                <div class="space-y-2 text-xl">
                    <p> ì‹œë¯¼ ë‹¨ì–´: <span id="citizen-word" class="font-bold text-blue-600"></span></p>
                    <p> ë¼ì´ì–´ ë‹¨ì–´: <span id="wolf-word" class="font-bold text-red-600"></span></p>
                </div>
             </div>
             <button id="restart-game-btn" class="w-full bg-blue-500 hover:bg-blue-600 text-white font-bold py-3 px-4 rounded-lg transition mt-6 shadow-md">
                ìƒˆ ê²Œì„
            </button>
        </div>

        <!-- ë‹¨ì–´ í™•ì¸ ëª¨ë‹¬ -->
        <div id="word-modal" class="hidden fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center p-4 z-50">
            <div class="bg-white rounded-2xl p-8 text-center max-w-sm w-full">
                <p class="text-lg mb-2">ë‹¹ì‹ ì˜ ë‹¨ì–´ëŠ”...</p>
                <p id="modal-word" class="text-4xl font-bold my-4"></p>
                <button id="close-modal-btn" class="w-full bg-gray-500 hover:bg-gray-600 text-white font-bold py-3 px-4 rounded-lg transition">
                    í™•ì¸í–ˆìŠµë‹ˆë‹¤
                </button>
            </div>
        </div>

    </div>

    <script>
        const wordsData = {
            'ìŒì‹': [
                { citizen: 'ì§œì¥ë©´', wolf: 'ì§¬ë½•', emoji: 'ğŸœ' }, { citizen: 'ê¹€ì¹˜ì°Œê°œ', wolf: 'ëœì¥ì°Œê°œ', emoji: 'ğŸ¥˜' },
                { citizen: 'í”¼ì', wolf: 'í–„ë²„ê±°', emoji: 'ğŸ•' }, { citizen: 'ë–¡ë³¶ì´', wolf: 'ìˆœëŒ€', emoji: 'ğŸ¢' },
                { citizen: 'ë¼ë©´', wolf: 'ìš°ë™', emoji: 'ğŸ¥' }, { citizen: 'ì‚¬ê³¼', wolf: 'ë°°', emoji: 'ğŸ' },
                { citizen: 'ì½œë¼', wolf: 'ì‚¬ì´ë‹¤', emoji: 'ğŸ¥¤' }, { citizen: 'ì¹˜í‚¨', wolf: 'ë‹­ê°•ì •', emoji: 'ğŸ—' },
                { citizen: 'ì‚¼ê²¹ì‚´', wolf: 'ëª©ì‚´', emoji: 'ğŸ¥“' }, { citizen: 'ì´ˆë°¥', wolf: 'íšŒ', emoji: 'ğŸ£' },
                { citizen: 'ëƒ‰ë©´', wolf: 'ë§‰êµ­ìˆ˜', emoji: 'ğŸœ' }, { citizen: 'ì•„ë©”ë¦¬ì¹´ë…¸', wolf: 'ë¼ë–¼', emoji: 'â˜•' },
                { citizen: 'íŒ¥ë¹™ìˆ˜', wolf: 'ê³¼ì¼ë¹™ìˆ˜', emoji: 'ğŸ§' }, { citizen: 'ë§Œë‘', wolf: 'ì°ë¹µ', emoji: 'ğŸ¥Ÿ' },
                { citizen: 'ë¹„ë¹”ë°¥', wolf: 'ë³¶ìŒë°¥', emoji: 'ğŸš' }, { citizen: 'ìŠ¤í…Œì´í¬', wolf: 'ëˆê¹ŒìŠ¤', emoji: 'ğŸ¥©' },
                { citizen: 'ì¹´ë ˆ', wolf: 'ì§œì¥', emoji: 'ğŸ›' }, { citizen: 'ìƒŒë“œìœ„ì¹˜', wolf: 'í† ìŠ¤íŠ¸', emoji: 'ğŸ¥ª' },
                { citizen: 'ì•„ì´ìŠ¤í¬ë¦¼', wolf: 'ìƒ¤ë² íŠ¸', emoji: 'ğŸ¦' }, { citizen: 'ìƒ¤ë¸Œìƒ¤ë¸Œ', wolf: 'ìŠ¤í‚¤ì•¼í‚¤', emoji: 'ğŸ²' },
                { citizen: 'ê¹€ë°¥', wolf: 'ì£¼ë¨¹ë°¥', emoji: 'ğŸ™' },{ citizen: 'ì¼€ì´í¬', wolf: 'íŒŒì´', emoji: 'ğŸ°' },
                { citizen: 'í‘¸ë”©', wolf: 'ì ¤ë¦¬', emoji: 'ğŸ®' }, { citizen: 'ë„ë„›', wolf: 'ê½ˆë°°ê¸°', emoji: 'ğŸ©' },
            ],
            'ì§ì—…': [
                { citizen: 'ì˜ì‚¬', wolf: 'ê°„í˜¸ì‚¬', emoji: 'ğŸ‘¨â€âš•ï¸' }, { citizen: 'ê²½ì°°', wolf: 'ì†Œë°©ê´€', emoji: 'ğŸ‘®â€â™€ï¸' },
                { citizen: 'ì„ ìƒë‹˜', wolf: 'êµìˆ˜', emoji: 'ğŸ‘©â€ğŸ«' }, { citizen: 'ê°œë°œì', wolf: 'ë””ìì´ë„ˆ', emoji: 'ğŸ’»' },
                { citizen: 'ê°€ìˆ˜', wolf: 'ë°°ìš°', emoji: 'ğŸ¤' }, { citizen: 'ìš”ë¦¬ì‚¬', wolf: 'ì œë¹µì‚¬', emoji: 'ğŸ‘¨â€ğŸ³' },
                { citizen: 'ìš´ë™ì„ ìˆ˜', wolf: 'ê°ë…', emoji: 'âš½' }, { citizen: 'ì‘ê°€', wolf: 'ê¸°ì', emoji: 'âœï¸' },
                { citizen: 'íŒŒì¼ëŸ¿', wolf: 'ìŠ¹ë¬´ì›', emoji: 'âœˆï¸' }, { citizen: 'ë¯¸ìš©ì‚¬', wolf: 'ë„¤ì¼ë¦¬ìŠ¤íŠ¸', emoji: 'ğŸ’‡â€â™€ï¸' },
                { citizen: 'íŒì‚¬', wolf: 'ê²€ì‚¬', emoji: 'âš–ï¸' }, { citizen: 'ê±´ì¶•ê°€', wolf: 'ì¸í…Œë¦¬ì–´ ë””ìì´ë„ˆ', emoji: 'ğŸ ' },
                { citizen: 'ë§ˆìˆ ì‚¬', wolf: 'ì„œì»¤ìŠ¤ ë‹¨ì›', emoji: 'ğŸ©' }, { citizen: 'ì•½ì‚¬', wolf: 'ìˆ˜ì˜ì‚¬', emoji: 'ğŸ’Š' },
                { citizen: 'ì„±ìš°', wolf: 'ì•„ë‚˜ìš´ì„œ', emoji: 'ğŸ™ï¸' }, { citizen: 'ìœ íŠœë²„', wolf: 'BJ', emoji: 'ğŸ“¹' },
                { citizen: 'ëª¨ë¸', wolf: 'íŒ¨ì…˜ ë””ìì´ë„ˆ', emoji: 'ğŸ’ƒ' }, { citizen: 'êµ°ì¸', wolf: 'ê²½í˜¸ì›', emoji: 'ğŸ–ï¸' },
                { citizen: 'í™”ê°€', wolf: 'ì¡°ê°ê°€', emoji: 'ğŸ¨' }, { citizen: 'ëŒ€í†µë ¹', wolf: 'êµ­íšŒì˜ì›', emoji: 'ğŸ›ï¸' },
                { citizen: 'ë†ë¶€', wolf: 'ì–´ë¶€', emoji: 'ğŸ§‘â€ğŸŒ¾' },{ citizen: 'ë³€í˜¸ì‚¬', wolf: 'ë²•ë¬´ì‚¬', emoji: 'ğŸ“œ' },
                { citizen: 'ë°”ë¦¬ìŠ¤íƒ€', wolf: 'ì†Œë¯ˆë¦¬ì—', emoji: 'â˜•' }, { citizen: 'ì²œë¬¸í•™ì', wolf: 'ì ì„±ìˆ ì‚¬', emoji: 'ğŸ”­' },
            ],
            'ì „ìì œí’ˆ': [
                { citizen: 'ìŠ¤ë§ˆíŠ¸í°', wolf: 'íƒœë¸”ë¦¿', emoji: 'ğŸ“±' }, { citizen: 'ë…¸íŠ¸ë¶', wolf: 'ë°ìŠ¤í¬íƒ‘', emoji: 'ğŸ’»' },
                { citizen: 'TV', wolf: 'ëª¨ë‹ˆí„°', emoji: 'ğŸ“º' }, { citizen: 'ì—ì–´ì»¨', wolf: 'ì„ í’ê¸°', emoji: 'ğŸ’¨' },
                { citizen: 'ì„¸íƒê¸°', wolf: 'ê±´ì¡°ê¸°', emoji: 'ğŸ§º' }, { citizen: 'ëƒ‰ì¥ê³ ', wolf: 'ê¹€ì¹˜ëƒ‰ì¥ê³ ', emoji: 'ğŸ§Š' },
                { citizen: 'ì¹´ë©”ë¼', wolf: 'ìº ì½”ë”', emoji: 'ğŸ“·' }, { citizen: 'í—¤ë“œí°', wolf: 'ì´ì–´í°', emoji: 'ğŸ§' },
                { citizen: 'ë§ˆìš°ìŠ¤', wolf: 'í‚¤ë³´ë“œ', emoji: 'ğŸ–±ï¸' }, { citizen: 'ìŠ¤í”¼ì»¤', wolf: 'ì‚¬ìš´ë“œë°”', emoji: 'ğŸ”Š' },
                { citizen: 'ì „ìë ˆì¸ì§€', wolf: 'ì˜¤ë¸', emoji: 'ğŸ”¥' }, { citizen: 'ì²­ì†Œê¸°', wolf: 'ë¡œë´‡ì²­ì†Œê¸°', emoji: 'ğŸ§¹' },
                { citizen: 'í”„ë¦°í„°', wolf: 'ìŠ¤ìºë„ˆ', emoji: 'ğŸ–¨ï¸' }, { citizen: 'ë“œë¡ ', wolf: 'RCì¹´', emoji: 'ğŸš' },
                { citizen: 'ì „ê¸°ë°¥ì†¥', wolf: 'ì••ë ¥ë°¥ì†¥', emoji: 'ğŸš' }, { citizen: 'ë¯¹ì„œê¸°', wolf: 'ì°©ì¦™ê¸°', emoji: 'ğŸ¥¤' },
                { citizen: 'ê³µê¸°ì²­ì •ê¸°', wolf: 'ê°€ìŠµê¸°', emoji: 'ğŸŒ¬ï¸' }, { citizen: 'ë¹”í”„ë¡œì í„°', wolf: 'ìŠ¤í¬ë¦°', emoji: 'ğŸ“½ï¸' },
                { citizen: 'ìŠ¤ë§ˆíŠ¸ì›Œì¹˜', wolf: 'ìŠ¤ë§ˆíŠ¸ë°´ë“œ', emoji: 'âŒš' }, { citizen: 'ì „ê¸°ë©´ë„ê¸°', wolf: 'í—¤ì–´ë“œë¼ì´ì–´', emoji: 'ğŸ’ˆ' },
                { citizen: 'ë³´ì¡°ë°°í„°ë¦¬', wolf: 'ì¶©ì „ê¸°', emoji: 'ğŸ”‹' },{ citizen: 'ì „ê¸°ì¥íŒ', wolf: 'ì˜¨ìˆ˜ë§¤íŠ¸', emoji: 'ğŸ›Œ' },
                { citizen: 'ê²Œì„ê¸°', wolf: 'VRê¸°ê¸°', emoji: 'ğŸ®' }, { citizen: 'ë‚´ë¹„ê²Œì´ì…˜', wolf: 'ë¸”ë™ë°•ìŠ¤', emoji: 'ğŸš—' },
            ],
            'ë™ë¬¼': [
                { citizen: 'ê°•ì•„ì§€', wolf: 'ê³ ì–‘ì´', emoji: 'ğŸ¶' }, { citizen: 'í˜¸ë‘ì´', wolf: 'ì‚¬ì', emoji: 'ğŸ¯' },
                { citizen: 'ì½”ë¼ë¦¬', wolf: 'ê¸°ë¦°', emoji: 'ğŸ˜' }, { citizen: 'í† ë¼', wolf: 'ê±°ë¶ì´', emoji: 'ğŸ°' },
                { citizen: 'ëŒê³ ë˜', wolf: 'ê³ ë˜', emoji: 'ğŸ¬' }, { citizen: 'ë‹­', wolf: 'ì˜¤ë¦¬', emoji: 'ğŸ”' },
                { citizen: 'ì–‘', wolf: 'ì—¼ì†Œ', emoji: 'ğŸ‘' }, { citizen: 'íŒ¬ë”', wolf: 'ê³°', emoji: 'ğŸ¼' },
                { citizen: 'í­ê·„', wolf: 'ë¶ê·¹ê³°', emoji: 'ğŸ§' }, { citizen: 'ì›ìˆ­ì´', wolf: 'ì¹¨íŒ¬ì§€', emoji: 'ğŸ’' },
                { citizen: 'ë±€', wolf: 'ë„ë§ˆë±€', emoji: 'ğŸ' }, { citizen: 'ë…ìˆ˜ë¦¬', wolf: 'ë§¤', emoji: 'ğŸ¦…' },
                { citizen: 'ì•…ì–´', wolf: 'í•˜ë§ˆ', emoji: 'ğŸŠ' }, { citizen: 'ì‚¬ìŠ´', wolf: 'ë…¸ë£¨', emoji: 'ğŸ¦Œ' },
                { citizen: 'ìƒì–´', wolf: 'ê°€ì˜¤ë¦¬', emoji: 'ğŸ¦ˆ' }, { citizen: 'ë‹¤ëŒì¥', wolf: 'ì²­ì„¤ëª¨', emoji: 'ğŸ¿ï¸' },
                { citizen: 'ì—¬ìš°', wolf: 'ëŠ‘ëŒ€', emoji: 'ğŸ¦Š' }, { citizen: 'ìº¥ê±°ë£¨', wolf: 'ì½”ì•Œë¼', emoji: 'ğŸ¦˜' },
                { citizen: 'ê±°ë¯¸', wolf: 'ì „ê°ˆ', emoji: 'ğŸ•·ï¸' }, { citizen: 'ë‚˜ë¹„', wolf: 'ë‚˜ë°©', emoji: 'ğŸ¦‹' },
                { citizen: 'í–„ìŠ¤í„°', wolf: 'ê¸°ë‹ˆí”¼ê·¸', emoji: 'ğŸ¹' },{ citizen: 'ê°œêµ¬ë¦¬', wolf: 'ë‘êº¼ë¹„', emoji: 'ğŸ¸' },
                { citizen: 'ë§', wolf: 'ì–¼ë£©ë§', emoji: 'ğŸ´' }, { citizen: 'ë‚™íƒ€', wolf: 'ë¼ë§ˆ', emoji: 'ğŸ«' },
            ],
            'ìŠ¤í¬ì¸ ': [
                { citizen: 'ì¶•êµ¬', wolf: 'ì•¼êµ¬', emoji: 'âš½' }, { citizen: 'ë†êµ¬', wolf: 'ë°°êµ¬', emoji: 'ğŸ€' },
                { citizen: 'ìˆ˜ì˜', wolf: 'ë‹¬ë¦¬ê¸°', emoji: 'ğŸŠâ€â™€ï¸' }, { citizen: 'í…Œë‹ˆìŠ¤', wolf: 'ë°°ë“œë¯¼í„´', emoji: 'ğŸ¾' },
                { citizen: 'ìŠ¤í‚¤', wolf: 'ìŠ¤ë…¸ë³´ë“œ', emoji: 'ğŸ¿' }, { citizen: 'ì–‘ê¶', wolf: 'ì‚¬ê²©', emoji: 'ğŸ¹' },
                { citizen: 'íƒœê¶Œë„', wolf: 'ìœ ë„', emoji: 'ğŸ¥‹' }, { citizen: 'ë³µì‹±', wolf: 'ë ˆìŠ¬ë§', emoji: 'ğŸ¥Š' },
                { citizen: 'ê³¨í”„', wolf: 'í•˜í‚¤', emoji: 'â›³' }, { citizen: 'ë³¼ë§', wolf: 'ë‹¹êµ¬', emoji: 'ğŸ³' },
                { citizen: 'ì„œí•‘', wolf: 'ì¹´ëˆ„', emoji: 'ğŸ„' }, { citizen: 'ì‚¬ì´í´', wolf: 'ë§ˆë¼í†¤', emoji: 'ğŸš´' },
                { citizen: 'ì²´ì¡°', wolf: 'í”¼ê²¨ìŠ¤ì¼€ì´íŒ…', emoji: 'ğŸ¤¸â€â™€ï¸' }, { citizen: 'íœì‹±', wolf: 'ê²€ë„', emoji: 'ğŸ¤º' },
                { citizen: 'í´ë¼ì´ë°', wolf: 'ë“±ì‚°', emoji: 'ğŸ§—' }, { citizen: 'íƒêµ¬', wolf: 'ìŠ¤ì¿¼ì‹œ', emoji: 'ğŸ“' },
                { citizen: 'ì—­ë„', wolf: 'ì”¨ë¦„', emoji: 'ğŸ‹ï¸' }, { citizen: 'ì»¬ë§', wolf: 'ì•„ì´ìŠ¤í•˜í‚¤', emoji: 'ğŸ¥Œ' },
                { citizen: 'ëŸ­ë¹„', wolf: 'ë¯¸ì‹ì¶•êµ¬', emoji: 'ğŸ‰' }, { citizen: 'F1', wolf: 'ë‚˜ìŠ¤ì¹´', emoji: 'ğŸï¸' },
                { citizen: 'ìŠ¹ë§ˆ', wolf: 'í´ë¡œ', emoji: 'ğŸ‡' },{ citizen: 'í•¸ë“œë³¼', wolf: 'ì¡±êµ¬', emoji: 'ğŸ¥…' },
                { citizen: 'ìŠ¤ì¼€ì´íŠ¸', wolf: 'ì¸ë¼ì¸', emoji: 'â›¸ï¸' }, { citizen: 'ë‹¤ì´ë¹™', wolf: 'ì‹±í¬ë¡œë‚˜ì´ì¦ˆ', emoji: 'ğŸŒŠ' },
            ],
            'ì¥ì†Œ': [
                { citizen: 'í•™êµ', wolf: 'í•™ì›', emoji: 'ğŸ«' }, { citizen: 'ë°”ë‹¤', wolf: 'ì‚°', emoji: 'ğŸï¸' },
                { citizen: 'ë°±í™”ì ', wolf: 'ì‹œì¥', emoji: 'ğŸ¬' }, { citizen: 'ì˜í™”ê´€', wolf: 'ê³µì—°ì¥', emoji: 'ğŸ¬' },
                { citizen: 'ë„ì„œê´€', wolf: 'ì„œì ', emoji: 'ğŸ“š' }, { citizen: 'ë³‘ì›', wolf: 'ì•½êµ­', emoji: 'ğŸ¥' },
                { citizen: 'ê³µí•­', wolf: 'ê¸°ì°¨ì—­', emoji: 'âœˆï¸' }, { citizen: 'ì¹´í˜', wolf: 'ë¹µì§‘', emoji: 'â˜•' },
                { citizen: 'ê²½ì°°ì„œ', wolf: 'ì†Œë°©ì„œ', emoji: 'ğŸš“' }, { citizen: 'ë°•ë¬¼ê´€', wolf: 'ë¯¸ìˆ ê´€', emoji: 'ğŸ›ï¸' },
                { citizen: 'ë†€ì´ê³µì›', wolf: 'ì›Œí„°íŒŒí¬', emoji: 'ğŸ¢' }, { citizen: 'í—¬ìŠ¤ì¥', wolf: 'ìˆ˜ì˜ì¥', emoji: 'ğŸ’ª' },
                { citizen: 'í¸ì˜ì ', wolf: 'ìŠˆí¼ë§ˆì¼“', emoji: 'ğŸª' }, { citizen: 'ì€í–‰', wolf: 'ìš°ì²´êµ­', emoji: 'ğŸ¦' },
                { citizen: 'ë°©ì†¡êµ­', wolf: 'ì‹ ë¬¸ì‚¬', emoji: 'ğŸ“¡' }, { citizen: 'ì£¼ìœ ì†Œ', wolf: 'ì¶©ì „ì†Œ', emoji: 'â›½' },
                { citizen: 'ë¯¸ìš©ì‹¤', wolf: 'ì´ë°œì†Œ', emoji: 'ğŸ’‡' }, { citizen: 'í˜¸í…”', wolf: 'ëª¨í…”', emoji: 'ğŸ¨' },
                { citizen: 'ì•„íŒŒíŠ¸', wolf: 'ì£¼íƒ', emoji: 'ğŸ¢' }, { citizen: 'ì‹ë‹¹', wolf: 'ë ˆìŠ¤í† ë‘', emoji: 'ğŸ´' },
                { citizen: 'ì§€í•˜ì² ', wolf: 'ë²„ìŠ¤', emoji: 'ğŸš‡' },{ citizen: 'ê³µì›', wolf: 'ìš´ë™ì¥', emoji: 'ğŸŒ³' },
                { citizen: 'êµíšŒ', wolf: 'ì„±ë‹¹', emoji: 'â›ª' }, { citizen: 'ì ˆ', wolf: 'ì‹ ì‚¬', emoji: 'â›©ï¸' },
            ],
            'ë¬¼ê±´': [
                { citizen: 'ì±…ìƒ', wolf: 'ì˜ì', emoji: 'ğŸª‘' }, { citizen: 'ì—°í•„', wolf: 'ë³¼íœ', emoji: 'âœï¸' },
                { citizen: 'ì•ˆê²½', wolf: 'ì„ ê¸€ë¼ìŠ¤', emoji: 'ğŸ‘“' }, { citizen: 'ì‹œê³„', wolf: 'ë‹¬ë ¥', emoji: 'â°' },
                { citizen: 'ê°€ë°©', wolf: 'ì§€ê°‘', emoji: 'ğŸ‘œ' }, { citizen: 'ìš°ì‚°', wolf: 'ì–‘ì‚°', emoji: 'â˜‚ï¸' },
                { citizen: 'ì»µ', wolf: 'í…€ë¸”ëŸ¬', emoji: 'ğŸ¥¤' }, { citizen: 'ìˆŸê°€ë½', wolf: 'ì “ê°€ë½', emoji: 'ğŸ¥¢' },
                { citizen: 'ì‹ ë°œ', wolf: 'ì–‘ë§', emoji: 'ğŸ‘Ÿ' }, { citizen: 'ëª¨ì', wolf: 'ì¥ê°‘', emoji: 'ğŸ§¢' },
                { citizen: 'ë°˜ì§€', wolf: 'ëª©ê±¸ì´', emoji: 'ğŸ’' }, { citizen: 'ë¹„ëˆ„', wolf: 'ìƒ´í‘¸', emoji: 'ğŸ§¼' },
                { citizen: 'ì¹˜ì•½', wolf: 'ì¹«ì†”', emoji: 'ğŸª¥' }, { citizen: 'ìˆ˜ê±´', wolf: 'íœ´ì§€', emoji: 'ã‚¿ã‚ªãƒ«' },
                { citizen: 'ì¹¨ëŒ€', wolf: 'ì†ŒíŒŒ', emoji: 'ğŸ›‹ï¸' }, { citizen: 'ë¹—', wolf: 'ê±°ìš¸', emoji: 'ğŸª' },
                { citizen: 'íœ´ì§€í†µ', wolf: 'ë¶„ë¦¬ìˆ˜ê±°í•¨', emoji: 'ğŸ—‘ï¸' }, { citizen: 'ì—´ì‡ ', wolf: 'ìë¬¼ì‡ ', emoji: 'ğŸ”‘' },
                { citizen: 'ê°€ìœ„', wolf: 'ì¹¼', emoji: 'âœ‚ï¸' }, { citizen: 'ëƒ„ë¹„', wolf: 'í”„ë¼ì´íŒ¬', emoji: 'ğŸ³' },
                { citizen: 'ë¦¬ëª¨ì»¨', wolf: 'ìŠ¤ë§ˆíŠ¸í‚¤', emoji: 'ğŸ“º' },{ citizen: 'ë§ˆìŠ¤í¬', wolf: 'ì†ì†Œë…ì œ', emoji: 'ğŸ˜·' },
                { citizen: 'êµ­ê¸°', wolf: 'ì§€ë„', emoji: 'ğŸ—ºï¸' }, { citizen: 'ë™ì „', wolf: 'ì§€í', emoji: 'ğŸ’°' },
            ],
             'LOL ì±”í”¼ì–¸': [
                { citizen: 'ê°€ë Œ', wolf: 'ë‹¤ë¦¬ìš°ìŠ¤', emoji: 'âš”ï¸' }, { citizen: 'ëŸ­ìŠ¤', wolf: 'ëª¨ë¥´ê°€ë‚˜', emoji: 'âœ¨' },
                { citizen: 'ì•¼ìŠ¤ì˜¤', wolf: 'ìš”ë„¤', emoji: 'ğŸŒªï¸' }, { citizen: 'ì• ì‰¬', wolf: 'ë°”ë£¨ìŠ¤', emoji: 'ğŸ¹' },
                { citizen: 'ë ˆì˜¤ë‚˜', wolf: 'ë…¸í‹¸ëŸ¬ìŠ¤', emoji: 'ğŸ›¡ï¸' }, { citizen: 'ì¼€ì´í‹€ë¦°', wolf: 'ì§„', emoji: 'ğŸ”«' },
                { citizen: 'ì´ì¦ˆë¦¬ì–¼', wolf: 'ì¹´ì´ì‚¬', emoji: 'ğŸ’¥' }, { citizen: 'ì“°ë ˆì‰¬', wolf: 'ë¸”ë¦¬ì¸ í¬ë­í¬', emoji: 'â›“ï¸' },
                { citizen: 'ì œë“œ', wolf: 'íƒˆë¡ ', emoji: 'ğŸ”ª' }, { citizen: 'ì•„ë¦¬', wolf: 'ë¥´ë¸”ë‘', emoji: 'ğŸ’–' },
                { citizen: 'ë¦¬ë¸', wolf: 'í”¼ì˜¤ë¼', emoji: 'ğŸ¤º' }, { citizen: 'ë§íŒŒì´íŠ¸', wolf: 'ì˜¤ë¥¸', emoji: 'ğŸ—¿' },
                { citizen: 'ë§ˆìŠ¤í„° ì´', wolf: 'íŠ¸ë¦°ë‹¤ë¯¸ì–´', emoji: 'ğŸ—¡ï¸' }, { citizen: 'ì§•í¬ìŠ¤', wolf: 'íŠ¸ë¦¬ìŠ¤íƒ€ë‚˜', emoji: 'ğŸš€' },
                { citizen: 'ë² ì¸', wolf: 'íŠ¸ìœ„ì¹˜', emoji: 'ğŸ¦‡' }, { citizen: 'ë¦¬ ì‹ ', wolf: 'ì‹  ì§œì˜¤', emoji: 'ğŸ‘Š' },
                { citizen: 'ì• ë‹ˆ', wolf: 'ë¸Œëœë“œ', emoji: 'ğŸ”¥' }, { citizen: 'ì†Œë¼ì¹´', wolf: 'ì†Œë‚˜', emoji: 'ğŸŒŸ' },
                { citizen: 'ë£°ë£¨', wolf: 'ìœ ë¯¸', emoji: 'ğŸ±' }, { citizen: 'ë¯¸ìŠ¤ í¬ì¸ˆ', wolf: 'ë£¨ì‹œì•ˆ', emoji: 'ğŸ”«' },
                { citizen: 'ë² ì´ê°€', wolf: 'ì‹ ë“œë¼', emoji: 'ğŸ”®' }, { citizen: 'ì¹´íƒ€ë¦¬ë‚˜', wolf: 'ì•„ì¹¼ë¦¬', emoji: 'ğŸŒªï¸' },
                { citizen: 'ì´ë ë¦¬ì•„', wolf: 'ì¹´ë°€', emoji: 'ğŸ”ª' }, { citizen: 'í‹°ëª¨', wolf: 'ë‚˜ë¥´', emoji: 'ğŸ„' },
                { citizen: 'ë‚˜ì„œìŠ¤', wolf: 'ë ˆë„¥í†¤', emoji: 'ğŸŠ' }, { citizen: 'ë³¼ë¦¬ë² ì–´', wolf: 'ìš°ë””ë¥´', emoji: 'ğŸ»' },
                { citizen: 'ë°”ì´', wolf: 'ì„¸íŠ¸', emoji: 'ğŸ¥Š' }, { citizen: 'íŒŒì´í¬', wolf: 'ì„¸ë‚˜', emoji: 'âš“' },
                { citizen: 'ìì´ë¼', wolf: 'í•˜ì´ë¨¸ë”©ê±°', emoji: 'ğŸŒ±' }, { citizen: 'ì¹´ì‚¬ë”˜', wolf: 'ë§ìí•˜', emoji: 'ğŸŒŒ' },
                { citizen: 'ë¸”ë¼ë””ë¯¸ë¥´', wolf: 'ìŠ¤ì›¨ì¸', emoji: 'ğŸ©¸' }, { citizen: 'ì—ì½”', wolf: 'ë‹¤ì´ì• ë‚˜', emoji: 'âŒ›' },
                { citizen: 'ë ê°€', wolf: 'ì¹´ì§ìŠ¤', emoji: 'ğŸ¦' }, { citizen: 'ì¼€ì¸', wolf: 'ì•„íŠ¸ë¡ìŠ¤', emoji: 'ğŸ˜ˆ' },
                { citizen: 'ì‰”', wolf: 'í¬ì‚°í…Œ', emoji: 'ğŸ›¡ï¸' }, { citizen: 'ê·¸ë ˆì´ë¸Œì¦ˆ', wolf: 'í‚¨ë“œë ˆë“œ', emoji: 'ğŸº' },
                { citizen: 'ì˜¤ë¦¬ì•„ë‚˜', wolf: 'ì§ìŠ¤', emoji: 'ğŸ’£' }, { citizen: 'ì”ë‚˜', wolf: 'ë‚˜ë¯¸', emoji: 'ğŸŒŠ' },
                { citizen: 'íŠ¸ìœ„ìŠ¤í‹°ë“œ í˜ì´íŠ¸', wolf: 'ë¼ì´ì¦ˆ', emoji: 'ğŸƒ' }, { citizen: 'ë…¹í„´', wolf: 'í”¼ë“¤ìŠ¤í‹±', emoji: 'ğŸ‘»' },
                { citizen: 'ìƒ¤ì½”', wolf: 'ì´ë¸”ë¦°', emoji: 'ğŸ¤¡' }, { citizen: 'ë½€ì‚', wolf: 'ìë¥´ë°˜ 4ì„¸', emoji: 'ğŸ”¨' },
                { citizen: 'ëª¨ë°ì¹´ì´ì €', wolf: 'ì¼ë¼ì˜¤ì´', emoji: 'ğŸ™' }, { citizen: 'ê°±í”Œë­í¬', wolf: 'í´ë ˆë“œ', emoji: 'ğŸ´â€â˜ ï¸' },
                { citizen: 'ì„¸ë¼í•€', wolf: 'ë‹ˆì½”', emoji: 'ğŸ¦' }, { citizen: 'ìì•¼', wolf: 'ì•„í ë¦¬ì˜¤ìŠ¤', emoji: 'ğŸŒ™' },
                { citizen: 'ì œë¦¬', wolf: 'ì‹œë¹„ë¥´', emoji: 'âš¡' }, { citizen: 'ë²¨ë² ìŠ¤', wolf: 'ë¹„ì—ê³ ', emoji: 'ğŸ‘‘' },
                { citizen: 'ìí¬', wolf: 'ì•„ë¬´ë¬´', emoji: 'ğŸ˜­' }, { citizen: 'ê·¸ë¼ê°€ìŠ¤', wolf: 'ì„¸ì£¼ì•„ë‹ˆ', emoji: 'ğŸ—' },
            ],
            'LOL ì•„ì´í…œ': [
                { citizen: 'ë¬´í•œì˜ ëŒ€ê²€', wolf: 'ë‚˜ë³´ë¦¬ ì‹ ì†ê²€', emoji: 'âš”ï¸' }, { citizen: 'ë¼ë°”ëˆì˜ ì£½ìŒëª¨ì', wolf: 'ê³µí—ˆì˜ ì§€íŒ¡ì´', emoji: 'ğŸ©' },
                { citizen: 'íƒœì–‘ë¶ˆê½ƒ ë°©íŒ¨', wolf: 'ê°•ì² ì‹¬ì¥', emoji: 'â¤ï¸' }, { citizen: 'ê°•ì² ì˜ ì†”ë¼ë¦¬ íœë˜íŠ¸', wolf: 'ì €ë…ê°‘ì£¼', emoji: 'ğŸ›¡ï¸' },
                { citizen: 'ë¦¬ì•ˆë“œë¦¬ì˜ ê³ ë‡Œ', wolf: 'ë£¨ë´ì˜ ë™ë°˜ì', emoji: 'ğŸ­' }, { citizen: 'ëª°ë½í•œ ì™•ì˜ ê²€', wolf: 'í¬ë¼ì¼„ í•™ì‚´ì', emoji: 'ğŸ—¡ï¸' },
                { citizen: 'ì¡´ì•¼ì˜ ëª¨ë˜ì‹œê³„', wolf: 'ë°´ì‹œì˜ ì¥ë§‰', emoji: 'â³' }, { citizen: 'ìˆ˜í˜¸ ì²œì‚¬', wolf: 'ìŠ¤í…Œë½ì˜ ë„ì „', emoji: 'ğŸ‘¼' },
                { citizen: 'ê°€ì‹œ ê°‘ì˜·', wolf: 'ë€ë‘ì¸ì˜ ì˜ˆì–¸', emoji: 'ğŸ›¡ï¸' }, { citizen: 'ëŒ€ìì—°ì˜ í˜', wolf: 'ì •ë ¹ì˜ í˜•ìƒ', emoji: 'ğŸŒ¿' },
                { citizen: 'ìš”ìš°ë¬´ì˜ ìœ ë ¹ê²€', wolf: 'ë“œë½ì‚¬ë¥´ì˜ í™©í˜¼ê²€', emoji: 'ğŸ‘»' }, { citizen: 'ì¹ í‘ì˜ ì–‘ë‚  ë„ë¼', wolf: 'ì„¸ë¦´ë‹¤ì˜ ì›í•œ', emoji: 'â„ï¸' },
                { citizen: 'ì›Œëª¨ê·¸ì˜ ê°‘ì˜·', wolf: 'êµ³ê±´í•œ ì‹¬ì¥', emoji: 'ğŸ’š' }, { citizen: 'êµ¬ì›', wolf: 'ë¯¸ì¹´ì—˜ì˜ ì¶•ë³µ', emoji: 'âœ¨' },
                { citizen: 'í­í’ ì‡„ë„', wolf: 'ê·¸ë¦¼ìë¶ˆê½ƒ', emoji: 'ğŸ”¥' }, { citizen: 'ë¶ˆê²½í•œ íˆë“œë¼', wolf: 'êµ¶ì£¼ë¦° íˆë“œë¼', emoji: 'ğŸ' },
                { citizen: 'í”¼ë°”ë¼ê¸°', wolf: 'ë¶ˆë©¸ì˜ ì² ê°‘ê¶', emoji: 'ğŸ©¸' }, { citizen: 'ë„ë¯¸ë‹‰ ê²½ì˜ ì¸ì‚¬', wolf: 'í•„ë©¸ìì˜ ìš´ëª…', emoji: 'ğŸ’€' },
                { citizen: 'ìš°ì£¼ì˜ ì¶”ì§„ë ¥', wolf: 'ë¦¬ì¹˜ë² ì¸', emoji: 'ğŸ’«' }, { citizen: 'ëª¨ë ë¡œë…¸ë¯¸ì½˜', wolf: 'í™”ê³µ í‘í¬ ì‚¬ìŠ¬ê²€', emoji: 'ğŸ§ª' },
                { citizen: 'ëŒ€ì²œì‚¬ì˜ ì§€íŒ¡ì´', wolf: 'ì˜ê²ì˜ ì§€íŒ¡ì´', emoji: 'ğŸ“œ' }, { citizen: 'ì–¼ì–´ë¶™ì€ ì‹¬ì¥', wolf: 'ì–¼ì–´ë¶™ì€ ê±´í‹€ë¦¿', emoji: 'ğŸ§Š' },
                { citizen: 'ê¸°ì‚¬ì˜ ë§¹ì„¸', wolf: 'ì§€í¬ì˜ ìœµí•©', emoji: 'ğŸ¤' }, { citizen: 'ë¼ì¼ë¼ì´ì˜ ìˆ˜ì •í™€', wolf: 'ì•…ì˜', emoji: 'ğŸ”®' },
                { citizen: 'ë§ˆë²•ì‚¬ì˜ ìµœí›„', wolf: 'ì¢…ë§', emoji: 'ğŸ”š' },
            ]
        };

        const topics = ['ìŒì‹', 'ì§ì—…', 'ì „ìì œí’ˆ', 'ë™ë¬¼', 'ìŠ¤í¬ì¸ ', 'ì¥ì†Œ', 'ë¬¼ê±´', 'LOL ì±”í”¼ì–¸', 'LOL ì•„ì´í…œ', 'Random'];

        // DOM Elements
        const setupScreen = document.getElementById('setup-screen');
        const gameScreen = document.getElementById('game-screen');
        const resultScreen = document.getElementById('result-screen');
        const playerCountInput = document.getElementById('player-count');
        const wolfCountInput = document.getElementById('wolf-count');
        const topicContainer = document.getElementById('topic-container');
        const startGameBtn = document.getElementById('start-game-btn');
        const errorMessage = document.getElementById('error-message');
        const playerButtons = document.getElementById('player-buttons');
        const showResultBtn = document.getElementById('show-result-btn');
        const wolfPlayersSpan = document.getElementById('wolf-players');
        const citizenWordSpan = document.getElementById('citizen-word');
        const wolfWordSpan = document.getElementById('wolf-word');
        const restartGameBtn = document.getElementById('restart-game-btn');
        const wordModal = document.getElementById('word-modal');
        const modalWord = document.getElementById('modal-word');
        const closeModalBtn = document.getElementById('close-modal-btn');
        
        let selectedTopic = '';
        let roles = [];
        let wordPair = {};
        let checkedPlayers = 0;
        let playerCount = 0;

        function initialize() {
            // ì£¼ì œ ë²„íŠ¼ ìƒì„±
            topics.forEach(topic => {
                const button = document.createElement('button');
                button.textContent = topic;
                button.className = 'topic-btn border border-gray-300 rounded-lg py-2 px-1 text-sm sm:text-base text-gray-700 hover:bg-gray-100 transition';
                button.dataset.topic = topic;
                topicContainer.appendChild(button);
            });
            
            // ì£¼ì œ ë²„íŠ¼ í´ë¦­ ì´ë²¤íŠ¸
            topicContainer.addEventListener('click', (e) => {
                if (e.target.classList.contains('topic-btn')) {
                    document.querySelectorAll('.topic-btn').forEach(btn => btn.classList.remove('selected'));
                    e.target.classList.add('selected');
                    selectedTopic = e.target.dataset.topic;
                }
            });

            startGameBtn.addEventListener('click', startGame);
            showResultBtn.addEventListener('click', showResult);
            restartGameBtn.addEventListener('click', restartGame);
            closeModalBtn.addEventListener('click', () => wordModal.classList.add('hidden'));
        }
        
        function validateSettings() {
            const players = parseInt(playerCountInput.value);
            const wolves = parseInt(wolfCountInput.value);
            
            if (!selectedTopic) {
                errorMessage.textContent = 'ì£¼ì œë¥¼ ì„ íƒí•´ì£¼ì„¸ìš”.';
                return false;
            }
            if (wolves >= players) {
                errorMessage.textContent = 'ë¼ì´ì–´ ìˆ˜ëŠ” ì°¸ê°€ ì¸ì›ë³´ë‹¤ ì ì–´ì•¼ í•©ë‹ˆë‹¤.';
                return false;
            }
            errorMessage.textContent = '';
            return true;
        }

        function startGame() {
            if (!validateSettings()) return;

            playerCount = parseInt(playerCountInput.value);
            const wolfCount = parseInt(wolfCountInput.value);
            
            // ë‹¨ì–´ ì„ íƒ
            let finalTopic = selectedTopic;
            if (finalTopic === 'Random') {
                const realTopics = topics.slice(0, -1);
                finalTopic = realTopics[Math.floor(Math.random() * realTopics.length)];
            }
            const words = wordsData[finalTopic];
            wordPair = words[Math.floor(Math.random() * words.length)];

            // ì—­í•  ë¶„ë°°
            roles = Array(playerCount).fill('citizen');
            let wolvesAssigned = 0;
            while(wolvesAssigned < wolfCount) {
                const randomIndex = Math.floor(Math.random() * playerCount);
                if (roles[randomIndex] === 'citizen') {
                    roles[randomIndex] = 'wolf';
                    wolvesAssigned++;
                }
            }

            // ê²Œì„ í™”ë©´ ì„¤ì •
            setupScreen.classList.add('hidden');
            gameScreen.classList.remove('hidden');
            resultScreen.classList.add('hidden');
            
            checkedPlayers = 0;
            showResultBtn.disabled = true;

            playerButtons.innerHTML = '';
            for (let i = 0; i < playerCount; i++) {
                const button = document.createElement('button');
                button.textContent = `${i + 1}ë²ˆ`;
                button.dataset.index = i;
                button.className = 'player-btn bg-gray-200 hover:bg-gray-300 text-gray-800 font-bold py-6 rounded-lg transition';
                button.addEventListener('click', showWordModal);
                playerButtons.appendChild(button);
            }
        }

        function showWordModal(e) {
            const playerIndex = parseInt(e.target.dataset.index);
            const role = roles[playerIndex];
            const word = role === 'wolf' ? wordPair.wolf : wordPair.citizen;
            
            modalWord.textContent = `${wordPair.emoji} ${word}`;
            wordModal.classList.remove('hidden');

            e.target.disabled = true;
            e.target.classList.remove('bg-gray-200', 'hover:bg-gray-300');
            e.target.classList.add('bg-indigo-500', 'text-white');
            e.target.textContent = 'í™•ì¸ ì™„ë£Œ';

            checkedPlayers++;
            if (checkedPlayers === playerCount) {
                showResultBtn.disabled = false;
            }
        }

        function showResult() {
            const wolfIndices = roles.map((role, index) => role === 'wolf' ? index + 1 : null).filter(Boolean);
            wolfPlayersSpan.textContent = wolfIndices.join(', ');
            citizenWordSpan.textContent = `${wordPair.emoji} ${wordPair.citizen}`;
            wolfWordSpan.textContent = `${wordPair.emoji} ${wordPair.wolf}`;
            
            gameScreen.classList.add('hidden');
            resultScreen.classList.remove('hidden');
        }

        function restartGame() {
            resultScreen.classList.add('hidden');
            setupScreen.classList.remove('hidden');
            
            selectedTopic = '';
            document.querySelectorAll('.topic-btn').forEach(btn => btn.classList.remove('selected'));
            errorMessage.textContent = '';
        }

        initialize();
    </script>
</body>
</html>

